document.addEventListener('DOMContentLoaded', function() {
    var map = L.map('mapid').setView([40.38, -105.5], 10);

    L.tileLayer("https://api.mapbox.com/styles/v1/davidhimot/cj28cycy500092sn65165dbcu/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZGF2aWRoaW1vdCIsImEiOiJjajI4Y2J0bHQwMmh1MzJxaWl5NDRyODU0In0.o1heTTL79gr5zyiWLb0T9w",
                {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
        maxZoom: 18
    }).addTo(map);
    function showLatLng(e) {
        document.getElementById("whereIsThis").innerText = (e.latlng.lat).toFixed(5) + " | " + (e.latlng.lng).toFixed(5);
    }
    map.on('mousemove', showLatLng);
    document.getElementById("goToFRCCBoulder").onclick = function(){
        map.setView([40.1386, -105.12793], 16);
    };

    document.getElementById("goToRMNP").onclick = function(){
        map.setView([40.4, -105.8], 12);
    };
    function onMapClick(e) {
        var popup = L.popup()
        .setLatLng(e.latlng)
        .setContent("<center><img src='http://dev.brightrain.com/recreationer/images/icon-map-marker.png'></center><h4>" + e.latlng.lat + " | " + e.latlng.lng + "</h4>")
        .openOn(map);
    }

    map.on('click', onMapClick);

    var lakesGeojson = 
        {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "properties": {
                        "stroke": "#555555",
                        "stroke-width": 2,
                        "stroke-opacity": 1,
                        "fill": "#555555",
                        "fill-opacity": 0.5,
                        "Name": "Carter Lake"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    -105.66137552261353,
                                    40.07743109431181
                                ],
                                [
                                    -105.66193342208861,
                                    40.07695494525431
                                ],
                                [
                                    -105.66238403320312,
                                    40.07695494525431
                                ],
                                [
                                    -105.66289901733397,
                                    40.07729974318022
                                ],
                                [
                                    -105.66328525543213,
                                    40.07729974318022
                                ],
                                [
                                    -105.66380023956299,
                                    40.077004202207746
                                ],
                                [
                                    -105.66461563110352,
                                    40.07661014558252
                                ],
                                [
                                    -105.66530227661133,
                                    40.07618324833193
                                ],
                                [
                                    -105.66596746444702,
                                    40.07577276768264
                                ],
                                [
                                    -105.6666111946106,
                                    40.0752966070297
                                ],
                                [
                                    -105.66671848297119,
                                    40.07463982825216
                                ],
                                [
                                    -105.66637516021729,
                                    40.07399946284555
                                ],
                                [
                                    -105.66598892211914,
                                    40.07386810509482
                                ],
                                [
                                    -105.66543102264404,
                                    40.07406514162592
                                ],
                                [
                                    -105.66446542739868,
                                    40.07442637378568
                                ],
                                [
                                    -105.66371440887451,
                                    40.07465624779881
                                ],
                                [
                                    -105.66294193267821,
                                    40.07486970154481
                                ],
                                [
                                    -105.66152572631836,
                                    40.075723509838475
                                ],
                                [
                                    -105.66171884536743,
                                    40.0763638590338
                                ],
                                [
                                    -105.66174030303955,
                                    40.076774336120145
                                ],
                                [
                                    -105.66122531890869,
                                    40.07718481073223
                                ],
                                [
                                    -105.66105365753174,
                                    40.07725048644056
                                ],
                                [
                                    -105.66137552261353,
                                    40.07743109431181
                                ]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {},
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    -105.65965890884398,
                                    40.079319238829534
                                ],
                                [
                                    -105.65991640090942,
                                    40.07923714667832
                                ],
                                [
                                    -105.66002368927002,
                                    40.0790072881284
                                ],
                                [
                                    -105.66006660461426,
                                    40.07843263835886
                                ],
                                [
                                    -105.66019535064697,
                                    40.078022171268614
                                ],
                                [
                                    -105.66006660461426,
                                    40.078005752533535
                                ],
                                [
                                    -105.65985202789307,
                                    40.078284870491416
                                ],
                                [
                                    -105.65970182418823,
                                    40.07853115009235
                                ],
                                [
                                    -105.65970182418823,
                                    40.078859521508015
                                ],
                                [
                                    -105.65961599349974,
                                    40.07905654359728
                                ],
                                [
                                    -105.6594443321228,
                                    40.079171472886095
                                ],
                                [
                                    -105.65965890884398,
                                    40.079319238829534
                                ]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {},
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    -105.65998077392577,
                                    40.077546026344116
                                ],
                                [
                                    -105.66015243530273,
                                    40.07723406751941
                                ],
                                [
                                    -105.66013097763062,
                                    40.07702062118431
                                ],
                                [
                                    -105.6598949432373,
                                    40.0772176485943
                                ],
                                [
                                    -105.65985202789307,
                                    40.07751318864039
                                ],
                                [
                                    -105.65998077392577,
                                    40.077546026344116
                                ]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "stroke": "#555555",
                        "stroke-width": 2,
                        "stroke-opacity": 1,
                        "fill": "#555555",
                        "fill-opacity": 0.5,
                        "Name": "Triangle Lake"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    -105.65425157546997,
                                    40.066823674635884
                                ],
                                [
                                    -105.6549596786499,
                                    40.06667588157901
                                ],
                                [
                                    -105.655517578125,
                                    40.066331029865964
                                ],
                                [
                                    -105.65613985061646,
                                    40.06616681415094
                                ],
                                [
                                    -105.65639734268188,
                                    40.066117549359234
                                ],
                                [
                                    -105.65605401992798,
                                    40.0659533331296
                                ],
                                [
                                    -105.65556049346924,
                                    40.06587122486632
                                ],
                                [
                                    -105.6550669670105,
                                    40.065887646526896
                                ],
                                [
                                    -105.65453052520752,
                                    40.065887646526896
                                ],
                                [
                                    -105.65435886383055,
                                    40.06615039255767
                                ],
                                [
                                    -105.65420866012573,
                                    40.06656093120195
                                ],
                                [
                                    -105.65425157546997,
                                    40.066823674635884
                                ]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "stroke": "#555555",
                        "stroke-width": 2,
                        "stroke-opacity": 1,
                        "fill": "#555555",
                        "fill-opacity": 0.5,
                        "Name": "Lake Isabelle"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    -105.61417937278748,
                                    40.07008325108746
                                ],
                                [
                                    -105.61442613601685,
                                    40.069960096122415
                                ],
                                [
                                    -105.61481237411499,
                                    40.070042199457205
                                ],
                                [
                                    -105.61500549316406,
                                    40.07000935813515
                                ],
                                [
                                    -105.61516642570496,
                                    40.06982052022616
                                ],
                                [
                                    -105.61559557914734,
                                    40.06977946843756
                                ],
                                [
                                    -105.6159496307373,
                                    40.070042199457205
                                ],
                                [
                                    -105.61644315719604,
                                    40.069960096122415
                                ],
                                [
                                    -105.61658263206482,
                                    40.07012430269299
                                ],
                                [
                                    -105.6169581413269,
                                    40.0702146161381
                                ],
                                [
                                    -105.61724781990051,
                                    40.07040345295449
                                ],
                                [
                                    -105.61710834503174,
                                    40.07064976105867
                                ],
                                [
                                    -105.61734437942505,
                                    40.07057586872094
                                ],
                                [
                                    -105.61784863471985,
                                    40.07037882209509
                                ],
                                [
                                    -105.6184709072113,
                                    40.07033777064294
                                ],
                                [
                                    -105.61924338340759,
                                    40.07005862011226
                                ],
                                [
                                    -105.61965107917786,
                                    40.06993546510269
                                ],
                                [
                                    -105.62086343765259,
                                    40.069623471415134
                                ],
                                [
                                    -105.62127113342285,
                                    40.06930326588139
                                ],
                                [
                                    -105.62195777893066,
                                    40.06890095423091
                                ],
                                [
                                    -105.62284827232361,
                                    40.06845758761896
                                ],
                                [
                                    -105.62326669692993,
                                    40.06822769268406
                                ],
                                [
                                    -105.62326669692993,
                                    40.067874638237576
                                ],
                                [
                                    -105.62295556068419,
                                    40.06757905636347
                                ],
                                [
                                    -105.62265515327452,
                                    40.06735736911618
                                ],
                                [
                                    -105.62161445617676,
                                    40.06753800322395
                                ],
                                [
                                    -105.62074542045593,
                                    40.06769400502247
                                ],
                                [
                                    -105.61973690986633,
                                    40.06810453436403
                                ],
                                [
                                    -105.61899662017822,
                                    40.068153797718765
                                ],
                                [
                                    -105.61864256858826,
                                    40.068276955949706
                                ],
                                [
                                    -105.61778426170349,
                                    40.06821948213632
                                ],
                                [
                                    -105.61689376831053,
                                    40.06854790327397
                                ],
                                [
                                    -105.61643242835999,
                                    40.06884348094402
                                ],
                                [
                                    -105.61508059501647,
                                    40.0693771595997
                                ],
                                [
                                    -105.61497330665588,
                                    40.069311476298495
                                ],
                                [
                                    -105.61479091644287,
                                    40.06932789712973
                                ],
                                [
                                    -105.61440467834473,
                                    40.06939358041509
                                ],
                                [
                                    -105.61407208442687,
                                    40.06970557515566
                                ],
                                [
                                    -105.61376094818115,
                                    40.069902623729185
                                ],
                                [
                                    -105.61366438865662,
                                    40.07000114780216
                                ],
                                [
                                    -105.61372876167297,
                                    40.07006683043833
                                ],
                                [
                                    -105.61417937278748,
                                    40.07008325108746
                                ]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "stroke": "#555555",
                        "stroke-width": 2,
                        "stroke-opacity": 1,
                        "fill": "#555555",
                        "fill-opacity": 0.5,
                        "Name": "Long Lake"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    -105.58753967285156,
                                    40.0752966070297
                                ],
                                [
                                    -105.58799028396606,
                                    40.07541154266456
                                ],
                                [
                                    -105.58880567550659,
                                    40.075280187637475
                                ],
                                [
                                    -105.59056520462035,
                                    40.07450847173658
                                ],
                                [
                                    -105.59103727340698,
                                    40.07416365967767
                                ],
                                [
                                    -105.59114456176758,
                                    40.07383526561756
                                ],
                                [
                                    -105.59193849563599,
                                    40.07350686997391
                                ],
                                [
                                    -105.59256076812743,
                                    40.073079953269854
                                ],
                                [
                                    -105.5929684638977,
                                    40.073047113412535
                                ],
                                [
                                    -105.5930757522583,
                                    40.0725873537475
                                ],
                                [
                                    -105.59489965438843,
                                    40.071240896874585
                                ],
                                [
                                    -105.59571504592896,
                                    40.07071544306934
                                ],
                                [
                                    -105.59633731842041,
                                    40.070288508867726
                                ],
                                [
                                    -105.59597253799438,
                                    40.06987799268867
                                ],
                                [
                                    -105.59595108032227,
                                    40.06948389482908
                                ],
                                [
                                    -105.59468507766724,
                                    40.069434632436305
                                ],
                                [
                                    -105.59331178665161,
                                    40.06981230987042
                                ],
                                [
                                    -105.59344053268433,
                                    40.07005862011226
                                ],
                                [
                                    -105.59238910675049,
                                    40.07040345295449
                                ],
                                [
                                    -105.59226036071777,
                                    40.070961750045285
                                ],
                                [
                                    -105.5917239189148,
                                    40.071273737602816
                                ],
                                [
                                    -105.59131622314453,
                                    40.07170066562885
                                ],
                                [
                                    -105.5909514427185,
                                    40.07199622961771
                                ],
                                [
                                    -105.59067249298096,
                                    40.07217685142391
                                ],
                                [
                                    -105.59002876281738,
                                    40.07207833049808
                                ],
                                [
                                    -105.58974981307983,
                                    40.073047113412535
                                ],
                                [
                                    -105.5892777442932,
                                    40.07357254922933
                                ],
                                [
                                    -105.58880567550659,
                                    40.07390094455624
                                ],
                                [
                                    -105.58799028396606,
                                    40.07445921297791
                                ],
                                [
                                    -105.58743238449097,
                                    40.07508315462177
                                ],
                                [
                                    -105.58753967285156,
                                    40.0752966070297
                                ]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "stroke": "#555555",
                        "stroke-width": 2,
                        "stroke-opacity": 1,
                        "fill": "#555555",
                        "fill-opacity": 0.5,
                        "Name": "Blue Lake"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    -105.6174087524414,
                                    40.08777420029846
                                ],
                                [
                                    -105.61780571937561,
                                    40.089054666008686
                                ],
                                [
                                    -105.61819195747375,
                                    40.089292698645885
                                ],
                                [
                                    -105.61859965324402,
                                    40.089859048815484
                                ],
                                [
                                    -105.61940431594849,
                                    40.090220197187705
                                ],
                                [
                                    -105.6199300289154,
                                    40.090425394272756
                                ],
                                [
                                    -105.62102437019347,
                                    40.09039256278073
                                ],
                                [
                                    -105.62157154083252,
                                    40.0901873655967
                                ],
                                [
                                    -105.62174320220947,
                                    40.08978517732151
                                ],
                                [
                                    -105.62173247337341,
                                    40.0891777864422
                                ],
                                [
                                    -105.62162518501282,
                                    40.08900541777292
                                ],
                                [
                                    -105.62112092971802,
                                    40.08855397395142
                                ],
                                [
                                    -105.62086343765259,
                                    40.0877824084887
                                ],
                                [
                                    -105.62025189399719,
                                    40.0877495757218
                                ],
                                [
                                    -105.61981201171875,
                                    40.08784807397493
                                ],
                                [
                                    -105.61932921409606,
                                    40.08791373939784
                                ],
                                [
                                    -105.61901807785034,
                                    40.087979404757384
                                ],
                                [
                                    -105.6178593635559,
                                    40.08781524123974
                                ],
                                [
                                    -105.6174087524414,
                                    40.08777420029846
                                ]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "stroke": "#555555",
                        "stroke-width": 2,
                        "stroke-opacity": 1,
                        "fill": "#555555",
                        "fill-opacity": 0.5,
                        "Name": "Pawnee Lake"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [
                                    -105.64529299736023,
                                    40.08747049656397
                                ],
                                [
                                    -105.64575433731079,
                                    40.087429455414835
                                ],
                                [
                                    -105.64597964286803,
                                    40.08718320800042
                                ],
                                [
                                    -105.64622640609741,
                                    40.08640341864471
                                ],
                                [
                                    -105.64647316932678,
                                    40.08564824570204
                                ],
                                [
                                    -105.64675211906433,
                                    40.08518857111363
                                ],
                                [
                                    -105.6467843055725,
                                    40.084843813135386
                                ],
                                [
                                    -105.64697742462158,
                                    40.08449084482508
                                ],
                                [
                                    -105.64684867858887,
                                    40.08391624133567
                                ],
                                [
                                    -105.64675211906433,
                                    40.083760276694576
                                ],
                                [
                                    -105.64653754234314,
                                    40.083760276694576
                                ],
                                [
                                    -105.64603328704834,
                                    40.08385057205663
                                ],
                                [
                                    -105.64544320106506,
                                    40.08429383846075
                                ],
                                [
                                    -105.64490675926208,
                                    40.08556616118176
                                ],
                                [
                                    -105.64506769180298,
                                    40.08614895913246
                                ],
                                [
                                    -105.6451964378357,
                                    40.08680562690154
                                ],
                                [
                                    -105.64530372619629,
                                    40.087035459124195
                                ],
                                [
                                    -105.64520716667175,
                                    40.087306331818986
                                ],
                                [
                                    -105.64512133598328,
                                    40.08739662247771
                                ],
                                [
                                    -105.64529299736023,
                                    40.08747049656397
                                ]
                            ]
                        ]
                    }
                }
            ]
        }
    L.geoJSON(lakesGeojson).addTo(map);
});


